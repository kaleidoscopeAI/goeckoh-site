"""
Detect the encoding of the given byte string.

:param byte_str:     The byte sequence to examine.
:type byte_str:      ``bytes`` or ``bytearray``
:param should_rename_legacy:  Should we rename legacy encodings
                              to their more modern equivalents?
:type should_rename_legacy:   ``bool``
"""
if not isinstance(byte_str, bytearray):
    if not isinstance(byte_str, bytes):
        raise TypeError(
            f"Expected object of type bytes or bytearray, got: {type(byte_str)}"
        )
    byte_str = bytearray(byte_str)
detector = UniversalDetector(should_rename_legacy=should_rename_legacy)
detector.feed(byte_str)
return detector.close()


