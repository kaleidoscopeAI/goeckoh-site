"""Exports metrics in specified format."""
metrics = self.get_summary()

if format.lower() == "json":
    return json.dumps(metrics, indent=2)
elif format.lower() == "csv":
    csv_lines = ["metric,value"]
    for key, value in metrics.items():
        if isinstance(value, dict):
            for sub_key, sub_value in value.items():
                csv_lines.append(f"{key}.{sub_key},{sub_value}")
        else:
            csv_lines.append(f"{key},{value}")
    return "\n".join(csv_lines)
else:
    raise ValueError(f"Unsupported export format: {format}")
