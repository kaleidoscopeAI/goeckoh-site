r"""Matches if current position is at the beginning of a line within
the parse string

Example::

    test = '''\
    AAA this line
    AAA and this line
      AAA but not this one
    B AAA and definitely not this one
    '''

    for t in (LineStart() + 'AAA' + rest_of_line).search_string(test):
        print(t)

prints::

    ['AAA', ' this line']
    ['AAA', ' and this line']

"""

def __init__(self):
    super().__init__()
    self.leave_whitespace()
    self.orig_whiteChars = set() | self.whiteChars
    self.whiteChars.discard("\n")
    self.skipper = Empty().set_whitespace_chars(self.whiteChars)
    self.errmsg = "Expected start of line"

def preParse(self, instring: str, loc: int) -> int:
    if loc == 0:
        return loc
    else:
        ret = self.skipper.preParse(instring, loc)
        if "\n" in self.orig_whiteChars:
            while instring[ret : ret + 1] == "\n":
                ret = self.skipper.preParse(instring, ret + 1)
        return ret

def parseImpl(self, instring, loc, doActions=True):
    if col(loc, instring) == 1:
        return loc, []
    raise ParseException(instring, loc, self.errmsg, self)


