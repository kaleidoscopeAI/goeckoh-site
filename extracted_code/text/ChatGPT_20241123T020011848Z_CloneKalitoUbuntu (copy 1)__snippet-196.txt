new_nodes = []
for node in nodes:
    node.process()
    new_node = node.grow()
    if new_node:
        new_nodes.append(new_node)
nodes.extend(new_nodes)

