"""Return whether an InstallRequirement should be built into a wheel."""
if req.constraint:
    # never build requirements that are merely constraints
    return False
if req.is_wheel:
    if need_wheel:
        logger.info(
            "Skipping %s, due to already being wheel.",
            req.name,
        )
    return False

if need_wheel:
    # i.e. pip wheel, not pip install
    return True

# From this point, this concerns the pip install command only
# (need_wheel=False).

if not req.source_dir:
    return False

if req.editable:
    # we only build PEP 660 editable requirements
    return req.supports_pyproject_editable()

return True


