for project_name, package_details in package_set.items():
    if isinstance(package_details.version, LegacyVersion):
        deprecated(
            reason=(
                f"{project_name} {package_details.version} "
                f"has a non-standard version number."
            ),
            replacement=(
                f"to upgrade to a newer version of {project_name} "
                f"or contact the author to suggest that they "
                f"release a version with a conforming version number"
            ),
            issue=12063,
            gone_in="24.1",
        )
    for dep in package_details.dependencies:
        if any(isinstance(spec, LegacySpecifier) for spec in dep.specifier):
            deprecated(
                reason=(
                    f"{project_name} {package_details.version} "
                    f"has a non-standard dependency specifier {dep}."
                ),
                replacement=(
                    f"to upgrade to a newer version of {project_name} "
                    f"or contact the author to suggest that they "
                    f"release a version with a conforming dependency specifiers"
                ),
                issue=12063,
                gone_in="24.1",
            )


