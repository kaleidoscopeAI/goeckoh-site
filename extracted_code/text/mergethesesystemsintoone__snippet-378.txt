"""
Retrieve memories that resonate with the input pattern.
Returns list of (pattern_id, strength, original_data) tuples.
"""
query_resonance = MemoryResonance(
    pattern_id="query",
    frequency=self._hash_to_frequency(str(pattern)),
    amplitude=self._generate_amplitude(pattern),
    phase=self._generate_phase(pattern)
)

results = []
for pattern_id, resonance in self.resonances.items():
    interaction_strength = resonance.interact(query_resonance)
    if interaction_strength > self.energy_threshold:
        resonance.last_access = datetime.now()
        resonance.access_count += 1
        results.append((pattern_id, interaction_strength,
                       self._reconstruct_data(resonance)))

return sorted(results, key=lambda x: x[1], reverse=True)

