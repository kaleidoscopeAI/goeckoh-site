"""Parses an editable requirement into:
    - a requirement name
    - an URL
    - extras
    - editable options
Accepted requirements:
    svn+http://blahblah@rev#egg=Foobar[baz]&subdirectory=version_subdir
    .[some_extra]
"""

url = editable_req

# If a file path is specified with extras, strip off the extras.
url_no_extras, extras = _strip_extras(url)

if os.path.isdir(url_no_extras):
    # Treating it as code that has already been checked out
    url_no_extras = path_to_url(url_no_extras)

if url_no_extras.lower().startswith("file:"):
    package_name = Link(url_no_extras).egg_fragment
    if extras:
        return (
            package_name,
            url_no_extras,
            get_requirement("placeholder" + extras.lower()).extras,
        )
    else:
        return package_name, url_no_extras, set()

for version_control in vcs:
    if url.lower().startswith(f"{version_control}:"):
        url = f"{version_control}+{url}"
        break

link = Link(url)

if not link.is_vcs:
    backends = ", ".join(vcs.all_schemes)
    raise InstallationError(
        f"{editable_req} is not a valid editable requirement. "
        f"It should either be a path to a local project or a VCS URL "
        f"(beginning with {backends})."
    )

package_name = link.egg_fragment
if not package_name:
    raise InstallationError(
        "Could not detect requirement name for '{}', please specify one "
        "with #egg=your_package_name".format(editable_req)
    )
return package_name, url, set()


