assert not template.editable, "template is editable"
if template.req:
    line = str(template.req)
else:
    line = link.url
ireq = install_req_from_line(
    line,
    user_supplied=template.user_supplied,
    comes_from=template.comes_from,
    use_pep517=template.use_pep517,
    isolated=template.isolated,
    constraint=template.constraint,
    global_options=template.global_options,
    hash_options=template.hash_options,
    config_settings=template.config_settings,
)
ireq.original_link = template.original_link
ireq.link = link
ireq.extras = template.extras
return ireq


