if size == 1:
    return "1 byte"
elif size < base:
    return "{:,} bytes".format(size)

for i, suffix in enumerate(suffixes, 2):  # noqa: B007
    unit = base**i
    if size < unit:
        break
return "{:,.{precision}f}{separator}{}".format(
    (base * size / unit),
    suffix,
    precision=precision,
    separator=separator,
)


