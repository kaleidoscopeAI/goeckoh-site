"""
Check the Content-Type header to ensure the response contains a Simple
API Response.

Raises `_NotAPIContent` if the content type is not a valid content-type.
"""
content_type = response.headers.get("Content-Type", "Unknown")

content_type_l = content_type.lower()
if content_type_l.startswith(
    (
        "text/html",
        "application/vnd.pypi.simple.v1+html",
        "application/vnd.pypi.simple.v1+json",
    )
):
    return

raise _NotAPIContent(content_type, response.request.method)


