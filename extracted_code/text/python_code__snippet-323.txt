attrs = set()
for base in cls.__mro__[:-1]:  # without object
    if base.__name__ in {'Protocol', 'Generic'}:
        continue
    annotations = getattr(base, '__annotations__', {})
    for attr in (*base.__dict__, *annotations):
        if (not attr.startswith('_abc_') and attr not in _EXCLUDED_ATTRS):
            attrs.add(attr)
return attrs


