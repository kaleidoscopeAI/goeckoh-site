"""Ensure that named package includes a subpath of path_item (if needed)"""

importer = get_importer(path_item)
if importer is None:
    return None

# use find_spec (PEP 451) and fall-back to find_module (PEP 302)
try:
    spec = importer.find_spec(packageName)
except AttributeError:
    # capture warnings due to #1111
    with warnings.catch_warnings():
        warnings.simplefilter("ignore")
        loader = importer.find_module(packageName)
else:
    loader = spec.loader if spec else None

if loader is None:
    return None
module = sys.modules.get(packageName)
if module is None:
    module = sys.modules[packageName] = types.ModuleType(packageName)
    module.__path__ = []
    _set_parent_ns(packageName)
elif not hasattr(module, '__path__'):
    raise TypeError("Not a package:", packageName)
handler = _find_adapter(_namespace_handlers, importer)
subpath = handler(importer, path_item, packageName, module)
if subpath is not None:
    path = module.__path__
    path.append(subpath)
    importlib.import_module(packageName)
    _rebuild_mod_path(path, packageName, module)
return subpath


