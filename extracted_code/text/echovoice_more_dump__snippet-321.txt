this.history = Array.from({ length: this.maxNodes }, () => []);
