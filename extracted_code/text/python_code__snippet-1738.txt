print("--- NEURO-ACOUSTIC EXOCORTEX LAUNCHER ---")
if not build_rust_kernel():
    print("--- Aborting due to build failure. ---")
    sys.exit(1)

print("\n--- Starting GUI ---")
try:
    # Ensure the project root is in the Python path
    sys.path.insert(0, os.path.abspath(os.path.dirname(__file__)))

    # The main app is now inside the goeckoh package, so we run it as a module
    subprocess.run([sys.executable, "-m", "goeckoh.gui_main"], check=True)
except FileNotFoundError:
    print("[ERROR] Could not find 'goeckoh/gui_main.py'. Make sure the script was created correctly.")
except subprocess.CalledProcessError as e:
    print(f"[ERROR] GUI process failed with exit code {e.returncode}")
except Exception as e:
    print(f"[ERROR] An unexpected error occurred while starting the GUI: {e}")


