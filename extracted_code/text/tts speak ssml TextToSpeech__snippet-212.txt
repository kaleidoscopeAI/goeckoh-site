  override fun onCreate(savedInstanceState: Bundle?) {
      super.onCreate(savedInstanceState)
      setContentView(R.layout.activity_main)

      statusText = findViewById(R.id.id_status)
      startButton = findViewById(R.id.id_start)
      vadModeSpinner = findViewById(R.id.vad_mode_spinner)
      silenceDurationSeekBar = findViewById(R.id.silence_duration_seekbar)
      vadThresholdSeekBar = findViewById(R.id.vad_threshold_seekbar)
      applyVadButton = findViewById(R.id.apply_vad_button)
      vadMetricsText = findViewById(R.id.vad_metrics_text)

      sharedPrefs = getSharedPreferences("vad_prefs", Context.MODE_PRIVATE)

      // Setup UI (unchanged)
      // ...

      applyVadButton.setOnClickListener {
          // (unchanged)
      }

      // Register broadcast receiver for metrics
      localBroadcastManager.registerReceiver(metricsReceiver,
