# Pilot summary: condition means/SDs
pilot_summary <- data.frame(
  Condition = c("Self", "External"),
  Mean = c(-4.2, -2.8),
  SD = c(2.1, 1.9)
)

# Compute components
r <- 0.6
sd_within <- sqrt( mean(pilot_summary$SD^2) - r * mean(pilot_summary$SD)^2 )
f_pilot <- abs(diff(pilot_summary$Mean)) / sd_within / sqrt(2 * (1 - r))

print(paste("Within-subject SD:", round(sd_within, 2)))
print(paste("Pilot f:", round(f_pilot, 2)))
